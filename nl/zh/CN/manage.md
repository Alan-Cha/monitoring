---

copyright:
  years:  2018, 2019
lastupdated: "2019-03-06"

keywords: Sysdig, IBM Cloud, monitoring, manage

subcollection: Sysdig

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

# 管理数据
{: #manage}

使用标签可将基础架构资源分组为逻辑层次结构，过滤掉数据以及将聚集的数据拆分成分段。定制在配置图形或为度量值创建警报时聚集数据的方式。设置仪表板、面板或警报的作用域，以过滤掉数据点。通过团队管理用户的数据访问权，从而限制对数据的访问权。
{:shortdesc}



## 标签
{: #manage_labels}

**标签**定义度量值的特征。可以使用标签来标识和区分度量值的特征。 

标签分类为基础架构标签和度量值描述符标签。每个度量值都有一组预定义的标签。对于定制度量值，可以配置更多标签。 

* 可以使用**基础架构标签**来标识基础架构中的对象。这些标签是从基础架构获取的。例如，标签可能为 *kubernetes.pod.name*。
* 可以使用**度量值描述符标签**来定义定制标签。这些标签是从 StatsD、Prometheus 和 JMX 等集成中获取并直接应用于度量值的键值对。 

## 组
{: #manage_groups}

**组**将基础架构对象组织成逻辑层次结构。使用组可构造基础架构，并轻松地监视环境。

在 Web UI 的*探索*视图中，可以运行以下任一操作：

|任务|描述|
|---------------------------------------------------------------------------------------------|-----------------|
|[复制组](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#copy_group)|将组复制到其他团队。|
|[创建组](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#create_group)|创建新组。|
|[删除组](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#delete_group)|删除组。|
|[重命名组](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#rename_group)|重命名组。|
|[共享组](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#share_group)|与团队中的其他成员共享组。|
{: caption="表 1. 任务分组标签" caption-side="top"} 



## 聚集
{: #manage_aggregation}

配置图形或为度量值创建警报时，会自动执行数据**聚集**。聚集有两种类型：时间聚集和组聚集。 
* 时间聚集始终在组聚集之前执行。
* 要创建多序列比较和多个警报，还可以使用标签将聚集的数据拆分成称为**分段**的较小部分。 

Sysdig 会聚集一段时间内的数据。然后，获取这些数据点，对其分组以通过度量值或仪表板显示数据，或者计算警报阈值。
{: tip}

配置图形或为度量值创建警报时，可以定制聚集数据的方式。

有两种用于度量值的聚集形式： 
* 时间聚集
* 组聚集

**时间聚集始终在组聚集之前执行。**


### 时间聚集
{: #manage_time_aggregation}

**缺省情况下，Sysdig 代理程序会以 10 秒分辨率收集和报告度量值。**

在包含 5 分钟或更短时间内数据的时间序列图表中， 
* 以 10 秒分辨率绘制数据点
* 不会执行时间聚集。

在以下任一情境中会自动执行时间聚集：

* 在包含超过 5 分钟时间量的数据的时间序列图表中，数据点会绘制为相应时间间隔的聚集。例如，对于显示一小时数据的图表，每个数据点表示 1 分钟时间间隔。
* 显示历史数据时。数据会随时间变化而累积。查看较旧数据时，可以选择要利用的数据点。

下表列出了时间序列图表的不同聚集类型：

|聚集类型|描述|
|------------------|--------------------------------------------------------------------------|
|平均值|在求值时间段内检索到的度量值的平均值。|
|速率 (timeAvg)|在求值时间段内度量值的平均值。|
|最大值|在求值时间段内的最大值。|
|最小值|在求值时间段内的最小值。|
|和|在求值时间段内度量值的合并和。|
{: caption="表 2. 时间序列图表的聚集类型" caption-side="top"} 

**注：**缺省情况下，平均值用于显示某一时间间隔的数据点。

速率和平均值是非常类似的聚集类型。通常这两者提供的结果相同。但是，这两种类型的计算不同。如果时间聚集设置为 1 分钟，那么 Sysdig 代理程序将设置为检索 6 个样本，每 10 秒检索一个。请注意，在某些情况下，样本可能由于断开连接或其他状况而不存在。


### 组聚集
{: #manage_group_aggregation}

**缺省情况下，应用于一组资源（例如，多个容器、主机或节点）的度量值是组成员之间的平均值。**

例如，如果三个主机在一个样本时间间隔报告的 CPU 使用率不同，那么会计算这三个值的平均值，并在图表上将其报告为该度量值的单个数据点。

下表列出了不同类型的组聚集：

|聚集类型|描述|
|------------------|----------------------------------------------------|
|平均值|时间间隔内样本的平均值。|
|最大值|时间间隔内样本的最大值。|
|最小值|时间间隔内样本的最小值。|
|和|时间间隔内样本的合并值。|
{: caption="表 3. 组聚集的聚集类型" caption-side="top"} 


**组聚集依赖于分段。**对于显示一组项的度量值的视图，如果更改了*分段依据*选项来细分个别项，那么不会执行组聚集。



## 作用域
{: #manage_scope}

**作用域**是标签的集合，用于定义在创建仪表板和面板、配置警报和定制团队时过滤掉数据点的条件。 

下表列出了可以在监视服务中运行以更改作用域的任务：

|任务|描述|
|---------------------------------------------------------------------------------------------|-----------------|
|[更改仪表板的作用域](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-dashboards#dashboards_scope)|更改仪表板的作用域，以过滤掉通过该仪表板上的面板显示的所有度量值的数据点。|
|[更改面板的作用域](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-panels#panels_scope)|更改面板的作用域，以过滤掉通过该面板显示的特定度量值的数据。|
|[更改团队的作用域](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_scope)|更改可供作为团队成员的用户查看的数据的作用域。|
{: caption="表 4. 用于更改作用域的任务" caption-side="top"} 


## 团队
{: #manage_teams}

**团队**用于对用户分组，并控制这些用户的数据以及使用 Sysdig 捕获和基础架构事件的许可权。 

Sysdig 管理员可以定义任意数量的团队。对于每个团队，Sysdig 管理员可以配置以下信息：
* *缺省团队*：可以将此团队设置为任何用户首次登录到 Web UI 时缺省情况下会被分配到的团队。
* *缺省入口点*：可以在 Web UI 中指定每次用户登录时打开的视图。有效的入口点为：*探索*视图、*仪表板*视图、*事件*视图、*警报*视图和*设置*视图。
* 作用域：可以限制用户能够查看的数据。可以选择*主机*或*容器*来定义可视的数据级别。然后，可以添加一个或多个条件。如果作用域设置为*主机*，那么用户可以查看所有主机级别和容器级别的信息。如果作用域设置为*容器*，那么用户只能查看容器级别的信息。
* 许可权：可以启用或禁用以下功能：*Sysdig 捕获*和*基础架构事件*。捕获文件仅可供团队成员查看。**注：** 捕获包含主机上每个容器的详细信息，与团队的作用域无关。启用基础架构事件后，用户可以查看实例中的每个用户和 Sysdig 代理程序中的所有定制基础架构事件。

缺省情况下，会为每个 {{site.data.keyword.mon_full_notm}} 实例预定义一个**监视操作**团队。
* 无法删除此团队。
* 用户会自动添加为此团队的成员，并被授予对实例中可用的所有资源的完全可视性。 

**注：** 
* 管理员必须先切换到*监视操作*团队，然后才能创建团队或更改其他团队的设置。
* 用户登录到 {{site.data.keyword.cloud_notm}} 并启动 Sysdig Web UI 后，管理员可以在 Sysdig Web UI 中管理该用户。用户首次登录到 Sysdig Web UI 时，将在 Sysdig 数据库中创建该用户。 

要限制用户的查看许可权，管理员可以执行以下任一操作：
* 将相应用户在缺省*监视操作*团队中的角色更改为*阅读*用户。 
* 创建具有有限作用域和可视性的缺省团队。然后，手动将用户分配给其他团队。 

下表列出了使用团队时可以运行的任务：

|任务|描述|
|---------------------------------------------------------------------------------|-----------------------------|
|[创建团队](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_create)|创建团队以控制数据可视性。|
|[删除团队](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_delete)|删除团队。</br>**注：**删除团队时，仅属于此团队的用户会被移至缺省团队。|
|[添加团队成员](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_users)|向团队添加更多用户。|
|[编辑团队](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_scope)|更改可供作为团队成员的用户查看的数据的作用域。|
{: caption="表 5. 用于使用团队的任务" caption-side="top"} 





    


