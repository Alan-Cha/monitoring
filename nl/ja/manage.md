---

copyright:
  years:  2018, 2019
lastupdated: "2019-03-06"

keywords: Sysdig, IBM Cloud, monitoring, manage

subcollection: Sysdig

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

# データの管理
{: #manage}

ラベルを使用してインフラストラクチャー・リソースを論理階層にグループ化し、データをフィルターで除外して、集合データをセグメントに分割します。 メトリックのグラフを構成したり、アラートを作成したりする場合にデータが集計される方法をカスタマイズします。 データ・ポイントをフィルターで除外するダッシュボード、パネル、またはアラートの有効範囲を設定します。 ユーザーのチームからのデータ・アクセスを管理して、データへのアクセスを制限します。 
{:shortdesc}



## ラベル
{: #manage_labels}

**ラベル**はメトリックの特性を定義します。 ラベルを使用すると、メトリックの特性を識別および差別化できます。 

ラベルは、インフラストラクチャー・ラベルとメトリック記述子ラベルとして分類されます。 各メトリックには、一連の事前定義されたラベルがあります。 カスタム・メトリックの場合、追加のラベルを構成できます。 

* **インフラストラクチャー・ラベル**を使用すると、インフラストラクチャー内のオブジェクトを識別できます。 このラベルは、インフラストラクチャーから取得されます。 例えば、*kubernetes.pod.name* というラベルになります。
* **メトリック記述子ラベル**を使用すると、カスタム・ラベルを定義できます。 このラベルは、メトリックに直接適用されるキーと値のペアで、StatsD、Prometheus、JMX などの統合から取得されます。 

## グループ
{: #manage_groups}

**グループ**により、インフラストラクチャー・オブジェクトが論理階層に編成されます。 グループを使用してインフラストラクチャーを構成し、環境のモニター方法を簡略化します。

Web UI の*「探索」*ビューで、以下のアクションを実行できます。

| タスク                                                                                        | 説明     |
|---------------------------------------------------------------------------------------------|-----------------|
| [グループのコピー](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#copy_group)                | グループを他のチームにコピーします。 |
| [グループの作成](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#create_group)            | グループを作成します。 |
| [グループの削除](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#delete_group)            | グループを削除します。 |
| [グループの名前変更](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#rename_group)            | グループの名前を変更します。 |
| [グループの共有](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-groups#share_group)              | チーム内の他のメンバーとグループを共有します。 |
{: caption="表 1. タスクのグループ化ラベル" caption-side="top"} 



## 集計
{: #manage_aggregation}

メトリックにグラフを構成したりアラートを作成したりすると、データの**集計**が自動的に実行されます。  

メトリックに使用される集計にはさまざまなタイプがあります。 
* 時間集計は、常に、グループ集計の前に実行されます。
* 複数系列の比較および複数のアラートを作成するには、ラベルを使用して、集計されたデータを**セグメント**という小さいセクションに分割します。 

時間集計は、常に、グループ集計の前に実行されます。

Sysdig では、時間の経過とともにデータが集計されます。 その後、それらのデータ・ポイントがグループ化されて、メトリックやダッシュボードにデータが表示されたり、アラートのしきい値が計算されたりします。
{: tip}

メトリックのグラフを構成したり、アラートを作成したりする場合にデータが集計される方法をカスタマイズできます。





### 時間集計
{: #manage_time_aggregation}

**デフォルトでは、Sysdig エージェントは、10 秒単位でメトリックを収集して報告します。**

5 分以下のデータが入った時系列グラフは、以下のようになります。 
* 10 秒単位でデータ・ポイントが描画されます。
* 時間集計は行われません。

時間集計は、以下の状況で自動的に行われます。

* 5 分を超えるデータが入った時系列グラフの場合は、適切な時間間隔で集計されたデータ・ポイントが描画されます。例えば、1 時間のデータを示すグラフの場合、各データ・ポイントは 1 分間隔を表します。
* 履歴データを表示する場合は、データが時系列で集計されます。古いデータを表示する場合に使用するデータ・ポイントを選択できます。

以下の表は、時系列グラフのさまざまな集計タイプを示しています。

| 集計タイプ | 説明                                                              |
|------------------|--------------------------------------------------------------------------|
| `average`          | 評価される期間に取得されたメトリック値の平均。 |
| `rate (timeAvg)`   | 評価される期間のメトリックの値の平均。            |
| `maximum`	         | 評価される期間中の最大値。                          |
| `minimum`         | 評価される期間中の最小値。                           |
| `sum`              | 評価される期間のメトリックの結合された合計。             |
{: caption="表 2. 時系列グラフの集計タイプ" caption-side="top"} 

**注:** デフォルトでは、平均を使用して時間間隔のデータ・ポイントが表示されます。

比率と平均は非常によく似た集計タイプです。結果が同じになることがよくあります。 ただし、それぞれの計算は異なります。 集計時間を 1 分に設定した場合、Sysdig エージェントは 6 つのサンプルを (10 秒ごとに 1 つ) 取得するように設定されます。切断などの状況が原因で、サンプルがない場合もあることに注意してください。


### グループ集計
{: #manage_group_aggregation}

**デフォルトでは、複数のコンテナー、ホスト、ノードなど、リソースのグループに適用されるメトリックは、グループのメンバー間で平均化されます。**

例えば、3 つのホストが 1 つのサンプル間隔について異なる CPU 使用量を報告した場合、3 つの値は平均化され、そのメトリックの単一のデータ・ポイントとしてグラフで報告されます。

以下の表は、さまざまなグループ集計タイプを示しています。

| 集計タイプ | 説明                                        |
|------------------|----------------------------------------------------|
| `average`          | 間隔のサンプルの平均値。           |
| `maximum`	         | 間隔のサンプルの最大値。           |
| `minimum`	         | 間隔のサンプルの最小値。            |
| `sum`              | 間隔のサンプルの結合された値。          |
{: caption="表 3. グループ集計の集計タイプ" caption-side="top"} 


**グループ集計はセグメンテーションによって異なります。** アイテムのグループのメトリックを表示するビューの*「セグメント化の基準 (Segment By)」*の選択が個別のアイテムを分割するように変更されると、グループ集計は行われません。



## 有効範囲
{: #manage_scope}

**有効範囲**は、ダッシュボードとパネルの作成、アラートの構成、およびチームのカスタマイズを行う際にデータ・ポイントをフィルターで除外する条件を定義するラベルのコレクションです。 

以下の表は、モニタリング・サービスの有効範囲を変更するために実行できるタスクを示しています。

| タスク                                                                                        | 説明     |
|---------------------------------------------------------------------------------------------|-----------------|
| [ダッシュボードの有効範囲の変更](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-dashboards#dashboards_scope) | ダッシュボードの有効範囲を変更して、ダッシュボードのパネルに表示されるすべてのメトリックのデータ・ポイントをフィルターで除外します。 |
| [パネルの有効範囲の変更](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-panels#panels_scope) | パネルの有効範囲を変更して、パネルに表示される特定のメトリックのデータをフィルターで除外します。 |
| [チームの有効範囲の変更](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_scope) | チームのメンバーであるユーザーが表示できるデータの有効範囲を変更します。 |
{: caption="表 4. 有効範囲を変更するタスク" caption-side="top"} 


## チーム
{: #manage_teams}

**チーム**によってユーザーをグループ化し、データとユーザー向けの Sysdig のキャプチャーおよびインフラストラクチャーのイベントを処理する権限を制御します。 

Sysdig 管理者は任意の数のチームを定義できます。 管理者はチームごとに以下の情報を構成できます。
* `デフォルト・チーム`: このチームを、Web UI に初めてログインしたすべてのユーザーのチームにすることを設定できます。 
* `デフォルトのエントリー・ポイント`: ユーザーがログインしたときに毎回開く Web UI のビューを指定できます。有効なエントリー・ポイントは、*「探索」*ビュー、*「ダッシュボード」*ビュー、*「イベント」*ビュー、*「アラート (Alerts)」*ビュー、および*「設定」*ビューです。 
* `有効範囲`: ユーザーが表示できるデータを制限できます。*「ホスト」*または*「コンテナー (Container)」*を選択して、表示可能なデータのレベルを定義できます。 その後、1 つ以上の条件を追加できます。 有効範囲が*「ホスト」*に設定されている場合、ユーザーはすべてのホスト・レベルおよびコンテナー・レベルの情報を表示できます。 有効範囲が*「コンテナー (Container)」*に設定されている場合、ユーザーはコンテナー・レベルの情報のみを表示できます。
* `権限`: *Sysdig キャプチャー* 機能と*インフラストラクチャー・イベント* 機能を有効または無効にできます。チームのメンバーは、キャプチャー・ファイルを表示できます。**注:** キャプチャーには、チームの有効範囲にかかわらず、ホストのすべてのコンテナーからの詳細情報が含まれます。 インフラストラクチャー・イベントを有効にした場合、ユーザーは、インスタンス内のすべてのユーザーおよび Sysdig エージェントからのすべてのカスタム・インフラストラクチャー・イベントを表示できます。

デフォルトでは、各 {{site.data.keyword.mon_full_notm}} インスタンスに対して**モニター操作**チームが事前に定義されています。
* このチームを削除することはできません。
* ユーザーはこのチームのメンバーとして自動的に追加され、インスタンス内で使用可能なすべてのリソースを完全に表示できます。 

**注:** 
* 管理者は、チームを作成したり他のチームの設定を変更したりする場合には、*モニター操作* チームに切り替える必要があります。
* ユーザーが {{site.data.keyword.cloud_notm}} にログインし、Sysdig Web UI を起動した後に、管理者は Sysdig Web UI でこのユーザーを管理できます。 ユーザーが Sysdig Web UI に初めてログインした場合は、Sysdig データベースでこのユーザーが作成されます。 

管理者は、以下のアクションを実行してユーザーの表示権限を制限できます。
* ユーザーの役割をデフォルトの*モニター操作* チームから*読み取り* ユーザーに変更します。 
* 有効範囲と表示が限定されたデフォルトのチームを作成します。 その後、ユーザーを他のチームに手動で割り当てます。 

以下の表は、チームを処理する場合に実行できるタスクを示しています。

| タスク                                                                            | 説明                 |
|---------------------------------------------------------------------------------|-----------------------------|
| [チームの作成](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_create)      | チームを作成して、データの表示を制御します。  |
| [チームの削除](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_delete)      | チームを削除します。 </br>**注:** チームを削除すると、そのチームにしか所属していなかったユーザーはデフォルトのチームに移動します。 |
| [チーム・メンバーの追加](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_users)   | チームにさらにユーザーを追加します。 |
| [チームの編集 ](/docs/services/Monitoring-with-Sysdig?topic=Sysdig-teams#teams_scope)          | チームのメンバーであるユーザーが表示できるデータの有効範囲を変更します。  |
{: caption="表 5. チームを処理するタスク" caption-side="top"} 





    


